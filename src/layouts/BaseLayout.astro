---
import Sidebar from '../components/Sidebar.astro';
import '../styles/global.css';

const { title = 'Mara Language Learner', description = 'Learn the Mara language step by step.' } = Astro.props;
---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  </head>
  <body class="text-slate-100">
    <div class="min-h-screen bg-gradient-to-br from-[#0b1c2c] via-[#0b1c2c] to-[#0f172a]">
      <div class="flex lg:hidden items-center justify-between px-4 py-3 border-b border-slate-800 bg-[#0f172a]/80 backdrop-blur">
        <div>
          <p class="text-xs uppercase tracking-[0.2em] text-slate-400">Mara Language</p>
          <p class="text-lg font-semibold text-white">Learner</p>
        </div>
        <button
          type="button"
          aria-label="Toggle navigation"
          data-sidebar-toggle
          class="inline-flex h-10 w-10 items-center justify-center rounded-lg border border-slate-700 bg-slate-900 text-slate-100 shadow-card"
        >
          <span class="sr-only">Toggle navigation</span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-6 w-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>

      <div class="flex">
        <Sidebar />
        <main class="flex-1 px-4 sm:px-6 lg:px-10 py-8 lg:ml-72">
          <div class="max-w-5xl mx-auto">
            <slot />
          </div>
        </main>
      </div>
    </div>

    <script is:inline>
      const toggleBtn = document.querySelector('[data-sidebar-toggle]');
      const sidebar = document.querySelector('[data-sidebar]');
      toggleBtn?.addEventListener('click', () => {
        if (!sidebar) return;
        const isHidden = sidebar.classList.contains('-translate-x-full');
        sidebar.classList.toggle('-translate-x-full', !isHidden);
        sidebar.classList.toggle('translate-x-0', isHidden);
      });
    </script>
  </body>
</html>
